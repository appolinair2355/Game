<!-- index.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questions pour un Champion</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700;900&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bleu-france: #0055A4;
            --bleu-clair: #4A90E2;
            --or: #FFD700;
            --rouge: #E74C3C;
            --vert: #27AE60;
        }

        body {
            font-family: 'Roboto Condensed', sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(90deg, var(--bleu-france) 0%, var(--bleu-clair) 100%);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 3px solid var(--or);
        }

        .header h1 {
            font-size: 2.5rem;
            text-transform: uppercase;
            background: linear-gradient(to bottom, #fff 0%, var(--or) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .screen { display: none; }
        .screen.active { display: block; }

        /* LOGIN */
        .login-box {
            max-width: 500px;
            margin: 50px auto;
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            border: 3px solid var(--or);
            text-align: center;
        }

        .login-box h2 {
            color: var(--or);
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .input-group {
            margin: 20px 0;
            text-align: left;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--or);
            font-weight: 700;
        }

        /* ONLINE PLAYERS */
        .online-panel {
            position: fixed;
            right: 20px;
            top: 150px;
            width: 250px;
            background: rgba(0,0,0,0.8);
            border: 2px solid var(--or);
            border-radius: 15px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .online-player {
            background: rgba(255,255,255,0.1);
            padding: 10px;
            margin: 10px 0;
            border-radius: 10px;
            border-left: 4px solid var(--vert);
        }

        .online-player.playing {
            border-left-color: var(--or);
        }

        .status-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--vert);
            margin-right: 8px;
        }

        .status-dot.playing {
            background: var(--or);
            animation: pulse 1s infinite;
        }

        /* ADMIN PANEL */
        .admin-panel {
            background: rgba(0,100,0,0.3);
            border: 3px solid var(--vert);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .admin-tab {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
        }

        .admin-tab.active {
            background: var(--or);
            color: black;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            font-size: 1rem;
            border-radius: 10px;
            border: 2px solid var(--or);
            background: rgba(0,0,0,0.5);
            color: white;
            margin: 10px 0;
        }

        .format-help {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 0.9rem;
        }

        /* GAME STYLES */
        .players-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .player-card {
            background: linear-gradient(145deg, rgba(0,85,164,0.8) 0%, rgba(0,50,100,0.9) 100%);
            border: 3px solid white;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            position: relative;
        }

        .player-card.robot {
            background: linear-gradient(145deg, #555 0%, #333 100%);
            border-color: #888;
        }

        .player-card.current {
            border-color: var(--or);
            box-shadow: 0 0 20px var(--or);
        }

        .robot-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .btn-buzz {
            background: linear-gradient(145deg, var(--rouge) 0%, #c0392b 100%);
            color: white;
            border: none;
            padding: 12px;
            font-size: 1rem;
            font-weight: 700;
            border-radius: 25px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .btn-buzz:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--rouge);
        }

        .btn-buzz:disabled {
            background: #555;
            cursor: not-allowed;
            opacity: 0.5;
        }

        .question-zone {
            background: rgba(0,0,0,0.6);
            border: 3px solid var(--or);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            min-height: 250px;
        }

        .timer-reading {
            width: 100%;
            height: 60px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            overflow: hidden;
            border: 3px solid white;
            margin: 20px 0;
            position: relative;
        }

        .timer-reading-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff9500 0%, #ff5e00 100%);
            width: 100%;
            transition: width 0.1s linear;
        }

        .timer-reading-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            font-weight: 900;
        }

        .timer-response {
            font-size: 4rem;
            font-weight: 900;
            color: var(--or);
            margin: 20px 0;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .answer-btn {
            background: rgba(255,255,255,0.1);
            border: 3px solid white;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
            text-align: left;
        }

        .answer-btn:hover:not(.disabled) {
            background: var(--bleu-clair);
            transform: translateY(-3px);
        }

        .answer-btn.selected {
            background: var(--or);
            color: black;
        }

        .answer-btn.correct {
            background: var(--vert) !important;
        }

        .answer-btn.wrong {
            background: var(--rouge) !important;
            opacity: 0.7;
        }

        .answer-btn.disabled {
            cursor: not-allowed;
            pointer-events: none;
        }

        .answer-label {
            display: inline-block;
            background: var(--or);
            color: black;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: 900;
            margin-right: 15px;
        }

        .btn {
            background: linear-gradient(145deg, var(--or) 0%, #FFA500 100%);
            color: black;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 30px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255,215,0,0.4);
        }

        .btn-secondary {
            background: linear-gradient(145deg, #555 0%, #333 100%);
            color: white;
        }

        .btn-success {
            background: var(--vert);
            color: white;
        }

        .btn-danger {
            background: var(--rouge);
            color: white;
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(145deg, var(--bleu-france) 0%, #002855 100%);
            border: 4px solid var(--or);
            border-radius: 30px;
            padding: 40px;
            max-width: 600px;
            text-align: center;
        }

        .waiting-room {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }

        .player-slot {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            margin: 10px 0;
            border-radius: 15px;
            border: 2px dashed rgba(255,255,255,0.3);
        }

        .player-slot.filled {
            border-style: solid;
            border-color: var(--vert);
            background: rgba(0,255,0,0.1);
        }

        .player-slot.robot {
            border-color: #888;
            background: rgba(100,100,100,0.2);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background: var(--or);
            animation: fall 3s linear forwards;
            z-index: 999;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        @media (max-width: 968px) {
            .players-grid { grid-template-columns: repeat(2, 1fr); }
            .online-panel { display: none; }
            .answers-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>üèÜ Questions pour un Champion</h1>
            <div id="userInfo" style="margin-top: 10px; color: var(--or);"></div>
        </div>

        <!-- ONLINE PLAYERS PANEL -->
        <div class="online-panel" id="onlinePanel" style="display: none;">
            <h3 style="color: var(--or); margin-bottom: 15px; text-align: center;">üåê En Ligne</h3>
            <div id="onlineList"></div>
        </div>

        <!-- SCREEN: LOGIN -->
        <div class="screen active" id="screenLogin">
            <div class="login-box">
                <h2>Connexion</h2>
                <div class="input-group">
                    <label>Nom</label>
                    <input type="text" id="loginNom" placeholder="Votre nom">
                </div>
                <div class="input-group">
                    <label>Pr√©nom</label>
                    <input type="text" id="loginPrenom" placeholder="Votre pr√©nom">
                </div>
                <button class="btn" onclick="login()" style="width: 100%; margin-top: 20px;">Se Connecter</button>
                <div id="loginError" style="color: var(--rouge); margin-top: 15px;"></div>
            </div>
        </div>

        <!-- SCREEN: ADMIN -->
        <div class="screen" id="screenAdmin">
            <div class="admin-panel">
                <h2 style="color: var(--vert); margin-bottom: 20px;">üëë Panel Administrateur - Bienvenue Sossou Kouam√©</h2>
                
                <div class="admin-tabs">
                    <button class="admin-tab active" onclick="showAdminTab('text')">Ajouter par Texte</button>
                    <button class="admin-tab" onclick="showAdminTab('form')">Ajouter par Formulaire</button>
                    <button class="admin-tab" onclick="showAdminTab('view')">Voir Questions</button>
                </div>

                <!-- Tab: Text -->
                <div class="tab-content active" id="tabText">
                    <h3>Ajouter des questions en masse (format texte)</h3>
                    <div class="format-help">
                        Format: QUESTION | BONNE_R√âPONSE | MAUVAISE_R√âPONSE_1 | MAUVAISE_R√âPONSE_2 | MAUVAISE_R√âPONSE_3 | CAT√âGORIE | POINTS<br><br>
                        Exemple:<br>
                        Quelle est la capitale de la France ? | Paris | Londres | Berlin | Madrid | G√©ographie | 1<br>
                        Qui a peint la Joconde ? | L√©onard de Vinci | Michel-Ange | Rapha√´l | Van Gogh | Arts | 2
                    </div>
                    <textarea id="bulkQuestions" placeholder="Collez vos questions ici..."></textarea>
                    <div class="controls">
                        <button class="btn btn-success" onclick="addBulkQuestions()">Ajouter les Questions</button>
                        <button class="btn btn-secondary" onclick="showMenu()">Retour au Menu</button>
                    </div>
                </div>

                <!-- Tab: Form -->
                <div class="tab-content" id="tabForm">
                    <h3>Ajouter une question</h3>
                    <div class="input-group">
                        <label>Question</label>
                        <input type="text" id="qText" style="width: 100%; padding: 10px;">
                    </div>
                    <div class="input-group">
                        <label>Bonne r√©ponse</label>
                        <input type="text" id="qCorrect" style="width: 100%; padding: 10px;">
                    </div>
                    <div class="input-group">
                        <label>Mauvaise r√©ponse 1</label>
                        <input type="text" id="qWrong1" style="width: 100%; padding: 10px;">
                    </div>
                    <div class="input-group">
                        <label>Mauvaise r√©ponse 2</label>
                        <input type="text" id="qWrong2" style="width: 100%; padding: 10px;">
                    </div>
                    <div class="input-group">
                        <label>Mauvaise r√©ponse 3</label>
                        <input type="text" id="qWrong3" style="width: 100%; padding: 10px;">
                    </div>
                    <div class="input-group">
                        <label>Cat√©gorie</label>
                        <select id="qCategory" style="width: 100%; padding: 10px;">
                            <option value="9PG">9 Points Gagnants</option>
                            <option value="4SUITE">4 √† la Suite</option>
                            <option value="FAF">Face-√†-Face</option>
                        </select>
                    </div>
                    <div class="controls">
                        <button class="btn btn-success" onclick="addSingleQuestion()">Ajouter</button>
                        <button class="btn btn-secondary" onclick="showMenu()">Retour</button>
                    </div>
                </div>

                <!-- Tab: View -->
                <div class="tab-content" id="tabView">
                    <h3>Questions existantes</h3>
                    <div id="questionsList" style="max-height: 400px; overflow-y: auto; text-align: left;"></div>
                    <div class="controls">
                        <button class="btn btn-secondary" onclick="showMenu()">Retour</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN: MENU -->
        <div class="screen" id="screenMenu">
            <div style="text-align: center; margin: 30px 0;">
                <h2 style="color: var(--or); font-size: 2rem;">Bienvenue <span id="menuUserName"></span> !</h2>
            </div>
            
            <div class="waiting-room">
                <h3 style="color: var(--or); margin-bottom: 20px;">üéÆ Salon d'Attente</h3>
                <div id="waitingSlots"></div>
                <div class="controls" style="margin-top: 20px;">
                    <button class="btn" onclick="startGameWithRobots()">Jouer avec des Robots</button>
                    <button class="btn btn-secondary" onclick="waitForPlayers()">Attendre d'autres joueurs</button>
                    <button class="btn btn-success" onclick="startGameIfReady()">D√©marrer la partie</button>
                </div>
            </div>

            <div class="controls" style="margin-top: 30px;">
                <button class="btn" onclick="showRules()">üìã R√®gles</button>
                <button class="btn btn-secondary" onclick="logout()">D√©connexion</button>
            </div>
        </div>

        <!-- SCREEN: GAME 9PG -->
        <div class="screen" id="screen9PG">
            <div class="players-grid" id="players9PG"></div>
            
            <div class="question-zone">
                <div style="font-size: 1.2rem; color: var(--or); margin-bottom: 10px;" id="pointsDisplay">1 POINT</div>
                <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 20px;" id="questionText">Pr√©parez-vous...</div>
                
                <div class="timer-reading" id="readingTimer">
                    <div class="timer-reading-fill" id="readingFill"></div>
                    <div class="timer-reading-text" id="readingText">5</div>
                </div>

                <div class="timer-response" id="responseTimer" style="display: none;">30</div>
                
                <div class="answers-grid" id="answersContainer" style="display: none;"></div>
                
                <div id="buzzerMsg" style="color: var(--or); font-size: 1.3rem; margin-top: 15px;">
                    ‚ö° CLIQUEZ SUR "JE VEUX R√âPONDRE" ! ‚ö°
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-secondary" onclick="backToMenu()">Quitter</button>
                <button class="btn" onclick="nextQuestion9PG()" id="btnNextQ" style="display: none;">Question Suivante</button>
                <button class="btn btn-success" onclick="validateAnswer()" id="btnValidate" style="display: none;">Valider</button>
            </div>
        </div>

        <!-- SCREEN: WINNER -->
        <div class="screen" id="screenWinner">
            <div style="text-align: center; padding: 50px;">
                <div style="font-size: 5rem; animation: pulse 1s infinite;">üëë</div>
                <h2 style="font-size: 3rem; color: var(--or); margin: 30px 0;">CHAMPION DU JOUR</h2>
                <div id="winnerName" style="font-size: 3rem; font-weight: 900; margin-bottom: 30px;"></div>
                <button class="btn" onclick="location.reload()" style="font-size: 1.3rem;">Nouvelle Partie</button>
            </div>
        </div>

        <!-- MODAL -->
        <div class="modal" id="modal">
            <div class="modal-content">
                <h2 id="modalTitle">Titre</h2>
                <div id="modalBody" style="font-size: 1.3rem; margin: 20px 0;"></div>
                <button class="btn" onclick="closeModal()">Fermer</button>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>
